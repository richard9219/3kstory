# AI 短剧创作流程

## 用户端创作流程

```
用户输入
  ↓
[一句话 / 大纲]
  ↓
AI 剧本生成（Qwen2.5）
  ↓
[完整剧本 + 5-8 个场景]
  ↓
自动分镜拆解
  ↓
[每个场景的镜头说明 + 角色 + 台词]
  ↓
图像生成（SDXL）
  ↓
[关键帧图片 / 视频片段]
  ↓
内容审核（Qwen2-VL）
  ↓
[通过/拒绝/需人工审核]
  ↓
视频合成 & 导出
  ↓
[完整短剧作品]
```

## 核心算法

### 1. 剧本生成
- 输入：用户 Prompt（一句话或大纲）
- 处理：Qwen2.5-7B 大模型推理
- 输出：JSON 格式的完整剧本

```json
{
  "title": "霸总的逆袭",
  "genre": "都市",
  "style": "现代",
  "scenes": [
    {
      "scene_number": 1,
      "title": "清晨的办公室",
      "location": "公司总裁办公室",
      "characters": [{"name": "陈阳", "emotion": "严肃"}],
      "dialogue": "今天，就是我复仇的开始...",
      "shot_type": "特写",
      "duration": 5
    }
  ]
}
```

### 2. 图像生成
- 输入：场景描述 + 镜头类型
- 处理：SDXL 或 Flux 模型
- 输出：高质量关键帧图片（800x600）

### 3. 视频生成（可选）
- 输入：关键场景描述（仅 1-2 个）
- 处理：CogVideoX-2B 模型
- 输出：5-10 秒的 AI 视频片段

### 4. 内容审核
- 输入：生成的图片/视频
- 处理：Qwen2-VL 多模态分析
- 输出：安全标签 + 通过状态

## 质量控制

### 自动审核指标
- 暴力内容检测
- 性暗示内容检测
- 敏感信息识别
- 风格一致性评分

### 人工审核流程
- 风险等级 HIGH 时触发
- 创作者申诉处理
- 定期质量采样

## 性能目标

| 指标 | 目标 | 说明 |
|------|------|------|
| 端到端生成 | < 5 分钟 | 从 Prompt 到完整短剧 |
| 图像生成 | < 30 秒 | 单张关键帧 |
| 视频生成 | < 2 分钟 | 5-10 秒视频片段 |
| 服务可用性 | 99.5% | 全年在线时间 |
| 用户并发 | 1000+ | 同时生成请求 |
